---
title: 如何将枚举中的数据写到配置文件中
date: '2024/6/4 19:28'
swiper: false
cover: >-
  https://zang-1307996497.cos.ap-beijing.myqcloud.com/undefined%E6%B5%B7%E6%99%AF%E5%85%AC%E8%B7%AF%E5%B0%8F%E9%95%87%204k%E5%A3%81%E7%BA%B8.jpg
img: >-
  https://zang-1307996497.cos.ap-beijing.myqcloud.com/undefined%E6%B5%B7%E6%99%AF%E5%85%AC%E8%B7%AF%E5%B0%8F%E9%95%87%204k%E5%A3%81%E7%BA%B8.jpg
categories: 实用
tags:
  - 常用技巧
top: true
sticky: 7
swiper_index: 7
abbrlink: d58073ef
---

## 1、 场景
> 当项目中存在一个枚举类，里边的数据不需要一直更新，但是在某些场景下需要进行配置时，
> 我们可能就要改一次数据就打一次包，这个样的话效率会很低所以可以放到配置文件中

## 2、 实现

### 3、 原始处理

```java
/**
 * @author Eliauk，微信：Cizai_，邮箱：zang.dromara.org <br/>
 * @date 2024/5/16 <br/>
 * @Copyright 博客：https://eliauku.gitee.io/  ||  per aspera and astra <br/>
 */
@Getter
@AllArgsConstructor
public enum QaDataSetEnum {

    //生产环境
    ALL("1794970287076651009", "综合知识库","1"),
    GE_REN_RONG_YU( "1793159398708293633", "xx知识库","2"),
    HUI_YI("1784509150092898305", "xx知识库","3"),
    BIAO_ZHUN_ZHI_DU("1793160100660121601", "xxx知识库","4"),
    LING_DAO_PI_FU( "1793159507289374721", "xxx知识库","5"),
    NONE("", "空数据知识库", "6");

    private final String dataSetId;

    private final String logInfo;

    private final String code;
    public static String getDataSetIdByCode(String code) {

        return Steam.of(QaDataSetEnum.values()).findFirst(data -> data.code.equals(code)).orElse(NONE).getDataSetId();
    }


}
```

### 3.1、 方法函数
```java
query.setDataset(QaDataSetEnum.getDataSetIdByCode(query.getCode()));
```
> 我们设置一个数据集，现在放到配置文件中

## 4、 放入配置文件

### 4、1 新增配置类
```java
@Configuration
public class QaDataSetConfig {

    private static final Map<String, String> ID_MAP = new HashMap<>();

    //通用QA数据集ID
    @Value("${qa.dataset.all-id:}")
    private String allId;

    //表彰荣誉QA数据集ID
    @Value("${qa.dataset.bzry-id:}")
    private String bzryId;

    //会议纪要QA数据集ID
    @Value("${qa.dataset.hyjy-id:}")
    private String hyjyId;

    //规章制度QA数据集ID
    @Value("${qa.dataset.gzzd-id:}")
    private String gzzdId;

    //领导批示QA数据集ID
    @Value("${qa.dataset.ldps-id:}")
    private String ldpsId;


    @PostConstruct
    public void init() {
        ID_MAP.put("1", allId);
        ID_MAP.put("2", bzryId);
        ID_MAP.put("3", hyjyId);
        ID_MAP.put("4", gzzdId);
        ID_MAP.put("5", ldpsId);
    }

    public static String getId(String code) {
        return ID_MAP.get(code);
    }
}
```
### 修改枚举类方法

```java
public static String getDataSetIdByCode(String code) {

    return Opp.ofStr(QaDataSetConfig.getId(code)).orElseGet(() -> Steam.of(QaDataSetEnum.values()).findFirst(data -> data.code.equals(code)).orElse(NONE).getDataSetId());

}
```

> 这样就实现了将枚举里边的数据使用配置文件可以进行重写